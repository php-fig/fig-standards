# Автозагрузчик

Ключевые слова «ДОЛЖНО» («MUST»), «НЕДОПУСТИМО» («MUST NOT»), «ТРЕБУЕТСЯ»
(«REQUIRED»), «НУЖНО» («SHALL»), «НЕ ПОЗВОЛЯЕТСЯ» («SHALL NOT»), «СЛЕДУЕТ»
(«SHOULD»), «НЕ СЛЕДУЕТ» («SHOULD NOT»), «РЕКОМЕНДУЕТСЯ» («RECOMMENDED»),
«МОЖЕТ» («MAY») и «НЕОБЯЗАТЕЛЬНО» («OPTIONAL»)
в этом документе должны расцениваться так, как описано в [RFC 2119](http://tools.ietf.org/html/rfc2119).

## 1. Обзор

Данный PSR описывает спецификацию для [автозагрузки][] классов на основе путей файлов. Она полностью взаимозаменяема и
может использоваться в дополнение к любой другой спецификации автозагрузчика, включая [PSR-0][]. Данный PSR также
описывает, где размещать файлы, которые будут загружаться в соответствии со спецификацией.


## 2. Спецификация

1. Термин «класс» обозначает как классы, так и интерфейсы, трейты и другие подобные структуры.

2. Абсолютное имя класса имеет следующую форму:

        \<ИмяПространстваИмён>(\<ИменаПодпространствИмён>)*\<ИмяКласса>

    1. Абсолютное имя класса ДОЛЖНО включать в себя верхний уровень пространства имён, также известный как
       «имя производителя».

    2. Абсолютное имя класса МОЖЕТ включать одно и более подпространство имён.

    3. Абсолютное имя класса ДОЛЖНО заканчиваться именем класса.

    4. Символы подчёркивания не имеют какого-либо особого значения в любой части абсолютного имени класса.

    5. Для буквенных символов абсолютного пространства имён МОЖЕТ использоваться любая комбинация верхнего и нижнего
       регистра.

    6. Все имена классов ДОЛЖНЫ использоваться в регистрозависимом стиле.

3. При загрузке файла, соответствующего абсолютному имени класса:

    1. В абсолютном имени класса последовательность из одного или более ведущего пространства имён и подпространств
       имён («префикс пространства имён»), исключая ведущий разделитель, соответствует как минимум одной
       «базовой директории».

    2. Последовательность подпространств имён, следующая за «префиксом пространства имён», соответствует поддиректории
       в «базовой директории». Разделители пространства имён соответствуют разделителям директорий. Имя поддиректории
       ДОЛЖНО иметь тот же регистр символов, что и имена подпространств имён.

    3. Завершающее имя класса соответствует имени файла, заканчивающемуся на `.php`. Имя файла ДОЛЖНО иметь тот же
       регистр символов, что и завершающее имя класса.

4. В реализациях автозагрузчика НЕДОПУСТИМО выбрасывать исключения, НЕДОПУСТИМО вызывать ошибки любого уровня и
НЕ СЛЕДУЕТ возвращать значение.


## 3. Примеры

В таблице ниже показано соответствие пути к файлу, абсолютного имени класса, префикса пространства имён и базовой
директории.

| Абсолютное имя класса         | Префикс пространства имён | Базовая директория       | Путь к файлу
| ----------------------------- |---------------------------|--------------------------|-------------------------------------------
| \Acme\Log\Writer\File_Writer  | Acme\Log\Writer           | ./acme-log-writer/lib/   | ./acme-log-writer/lib/File_Writer.php
| \Aura\Web\Response\Status     | Aura\Web                  | /path/to/aura-web/src/   | /path/to/aura-web/src/Response/Status.php
| \Symfony\Core\Request         | Symfony\Core              | ./vendor/Symfony/Core/   | ./vendor/Symfony/Core/Request.php
| \Zend\Acl                     | Zend                      | /usr/includes/Zend/      | /usr/includes/Zend/Acl.php

Примеры реализации автозагрузчиков, соответствующих спецификации, приведены в [файле примеров][]. НЕДОПУСТИМО рассматривать
их как часть спецификации. Примеры МОГУТ измениться в любое время.

[автозагрузки]: http://php.net/autoload
[PSR-0]: https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-0.md
[файле примеров]: https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader-examples.md
